(()=>{function e(e,t,n,r,u,a,o){try{var i=e[a](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,u)}var t=document.querySelector("#videoContainer"),n=t.querySelector("video"),r=t.querySelector("#videoControls"),u=t.querySelector("#play"),a=t.querySelector("#currenTime"),o=t.querySelector("#totalTime"),i=t.querySelector("#timeline"),s=t.querySelector("#volume"),c=t.querySelector("#mute"),l=t.querySelector("#fullScreen"),d=.5,m=null,f=function(){o.innerText=new Date(1e3*Math.floor(n.duration)).toISOString().substr(14,5),i.max=Math.floor(n.duration)},v=function(){a.innerText=new Date(1e3*Math.floor(n.currentTime)).toISOString().substr(14,5),i.value=Math.floor(n.currentTime)},p=function(){return r.classList.remove("showing")},y=function(){var n,r=(n=regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dataset.id,e.next=3,fetch("/api/videos/".concat(n,"/view"),{method:"post"});case 3:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(u,a){var o=n.apply(t,r);function i(t){e(o,u,a,i,s,"next",t)}function s(t){e(o,u,a,i,s,"throw",t)}i(void 0)}))});return function(){return r.apply(this,arguments)}}();t&&(u.addEventListener("click",(function(){n.paused?n.play():n.pause(),u.querySelector("i").classList=n.paused?"fas fa-play":"fas fa-pause"})),c.addEventListener("click",(function(){n.muted?n.muted=!1:(n.muted=!0,s.value=0),s.value=n.muted?0:d,c.querySelector("i").classList=n.muted?"fas fa-volume-mute":"fas fa-volume-up"})),s.addEventListener("input",(function(e){var t=e.target,r=c.querySelector("i");"0"===t.value?n.muted=!0:n.muted=!1,d=t.value,n.volume=d,r.classList=n.muted?"fas fa-volume-mute":"fas fa-volume-up"})),n.addEventListener("loadedmetadata",f),n.addEventListener("timeupdate",v),n.readyState>=2&&(f(),v()),i.addEventListener("input",(function(){n.currentTime=i.value})),l.addEventListener("click",(function(){document.fullscreenElement?document.exitFullscreen():t.requestFullscreen(),l.querySelector("i").classList=document.fullscreenElement?"fas fa-expand":"fas fa-compress"})),t.addEventListener("mousemove",(function(){m&&clearTimeout(m),r.classList.add("showing"),m=setTimeout(p,3e3)})),t.addEventListener("mouseleave",(function(){return m=setTimeout(p,3e3)})),n.addEventListener("ended",y))})();